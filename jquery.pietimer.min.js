(function(g){var f=360,a={init:function(b,d){var c=g(this),e={seconds:10,color:"rgba(255, 255, 255, 0.8)",height:c.height(),width:c.width()};b&&g.extend(e,b);c=g(this);a.data.settings=e;a.data.instance=c;a.data.interval=null;a.data.val=360;a.data.callback=d;a.data.paused=!0;c.html('<canvas id="pie_timer" width="'+e.height+'" height="'+e.height+'"></canvas>')},start:function(){a.data.paused&&(0>=f&&(f=360),a.data.interval=setInterval(a.timer,40),a.data.paused=!1)},pause:function(){a.data.paused||(clearInterval(a.data.interval),
a.data.paused=!0)},timer:function(){var b=document.getElementById("pie_timer"),d=a.data.callback;if(b.getContext)if(f-=360/a.data.settings.seconds/24,0>=f)clearInterval(a.data.interval),b.width=b.width,"function"==typeof d&&d.call(),a.data.paused=!0;else{b.width=b.width;var d=b.getContext("2d"),c=[b.width,b.height],b=Math.min(c[0],c[1])/2,c=[c[0]/2,c[1]/2];d.beginPath();d.moveTo(c[0],c[1]);var e=3*Math.PI/2;d.arc(c[0],c[1],b,e-f*(Math.PI/180),e,!1);d.closePath();d.fillStyle=a.data.settings.color;
d.fill()}},data:{}};jQuery.fn.pietimer=function(b){if(a[b])return a[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof b||!b)return a.init.apply(this,arguments);g.error("Method "+b+" does not exist on jQuery.pietimer");return this}})(jQuery);
